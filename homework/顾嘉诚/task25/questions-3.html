<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>task 25 questions 3</title>
	<script type="text/javascript" src='http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js'></script>
	<style type="text/css">
		*{
			padding: 0;
			margin: 0;
		}
		li{
			list-style: none;
		}
		a{
			text-decoration: none;
		}

		.layout{
			width: 800px;
			margin: 0 auto;
		}

		.cover{
			background-color: #ccc;
			opacity: 0.5;
			position: absolute;
			width: 100%;
			height: 100%;
		}
		a.btn{
			display: inline-block;
			padding: 10px;
			border: 1px solid red;
			color: red;
			border-radius: 5px;
		}
		.modal-ct{
			position: absolute;
			top: 50%;
			left: 50%;
			margin-left: -43px;
			margin-top: -19px;
		}
		.modal{
			display: none;
		}

		li{
			position: relative;
			border: 1px solid #eee;
			float: left;
			margin-left: 20px;
			margin-bottom: 20px;
		}
		ul{
			margin-left: -20px;
			margin-bottom: -20px;
			width: 786px;
		}
		ul:after{
			content: '';
			display: block;
			clear: both;
		}
		.pic{
			text-align: center;
		}
		li a{
			color: #555;
		}
		.info{
			padding: 10px 20px;
			width: 200px;
			height: 190px;
		}
		.layout>div{
			display: inline-block;
			margin: 20px 0;
		}
	</style>
</head>
<body>
	<div class="layout">
		<h1>珠宝首饰</h1>
		<div>
			<ul>
				<li>
					<div class="modal">
						<div class="cover"></div>
						<div class="modal-ct">
							<a class="btn" href="javascript:void(0)">立即抢购</a>
						</div>
					</div>
					<div class="info">
						<div class="pic">
							<a href="javascript:void(0)">
								<img src="./pic/1.jpg">
							</a>
						</div>
						<div>
							<a href="javascript:void(0)">藏美千足金和田玉金镶玉路路通吊坠</a>
						</div>
						<p>￥1699.00</p>
					</div>
				</li>
				<li>
					<div class="modal">
						<div class="cover"></div>
						<div class="modal-ct">
							<a class="btn" href="javascript:void(0)">立即抢购</a>
						</div>
					</div>
					<div class="info">
						<div class="pic">
							<a href="javascript:void(0)">
								<img src="./pic/1.jpg">
							</a>
						</div>
						<div>
							<a href="javascript:void(0)">藏美千足金和田玉金镶玉路路通吊坠</a>
						</div>
						<p>￥1699.00</p>
					</div>
				</li>
				<li>
					<div class="modal">
						<div class="cover"></div>
						<div class="modal-ct">
							<a class="btn" href="javascript:void(0)">立即抢购</a>
						</div>
					</div>
					<div class="info">
						<div class="pic">
							<a href="javascript:void(0)">
								<img src="./pic/1.jpg">
							</a>
						</div>
						<div>
							<a href="javascript:void(0)">藏美千足金和田玉金镶玉路路通吊坠</a>
						</div>
						<p>￥1699.00</p>
					</div>
				</li>
				<li>
					<div class="modal">
						<div class="cover"></div>
						<div class="modal-ct">
							<a class="btn" href="javascript:void(0)">立即抢购</a>
						</div>
					</div>
					<div class="info">
						<div class="pic">
							<a href="javascript:void(0)">
								<img src="./pic/1.jpg">
							</a>
						</div>
						<div>
							<a href="javascript:void(0)">藏美千足金和田玉金镶玉路路通吊坠</a>
						</div>
						<p>￥1699.00</p>
					</div>
				</li>
				<li>
					<div class="modal">
						<div class="cover"></div>
						<div class="modal-ct">
							<a class="btn" href="javascript:void(0)">立即抢购</a>
						</div>
					</div>
					<div class="info">
						<div class="pic">
							<a href="javascript:void(0)">
								<img src="./pic/1.jpg">
							</a>
						</div>
						<div>
							<a href="javascript:void(0)">藏美千足金和田玉金镶玉路路通吊坠</a>
						</div>
						<p>￥1699.00</p>
					</div>
				</li>
				<li>
					<div class="modal">
						<div class="cover"></div>
						<div class="modal-ct">
							<a class="btn" href="javascript:void(0)">立即抢购</a>
						</div>
					</div>
					<div class="info">
						<div class="pic">
							<a href="javascript:void(0)">
								<img src="./pic/1.jpg">
							</a>
						</div>
						<div>
							<a href="javascript:void(0)">藏美千足金和田玉金镶玉路路通吊坠</a>
						</div>
						<p>￥1699.00</p>
					</div>
				</li>
			</ul>
		</div>
		<a href="javascript:void(0)" class="btn">添加</a>
	</div>

	<script type="text/javascript">
	var products = [
		    {
		        img: 'http://img10.360buyimg.com/N3/jfs/t2242/92/1446546284/374195/9196ac66/56af0958N1a723458.jpg',
		        name: '珂兰 黄金手 猴哥款',
		        price: '￥405.00'
		    },{
		        img: 'http://img10.360buyimg.com/N3/jfs/t2242/92/1446546284/374195/9196ac66/56af0958N1a723458.jpg',
		        name: '珂兰 黄金转运珠 猴哥款',
		        price: '￥100.00'
		    },{
		        img: 'http://img10.360buyimg.com/N3/jfs/t2242/92/1446546284/374195/9196ac66/56af0958N1a723458.jpg',
		        name: '珂兰 黄金手链 3D猴哥款',
		        price: '￥45.00'
		    }
		];
		$('ul').on('mouseenter','li',function(e){
			$(this).find('.modal').removeClass('modal');
		});
		$('ul').on('mouseleave','li',function(e){
			$(this).find('.cover').parent().addClass('modal');
		});
		$('.layout>.btn').on('click',function(){
			$.each(products,function(idx,ele){
				console.log(idx);
				$('ul').append($(addEle(ele)));
			});
		});			
		function addEle(ele){
			var html = '';
			html += '<li><div class="modal"><div class="cover"></div><div class="modal-ct"><a class="btn" href="javascript:void(0)">立即抢购</a></div></div>';
			html += '<div class="info"><div class="pic"><a href="javascript:void(0)">';
			html += '<img src=' + ele.img + '></a></div>';
			html += '<div><a href="javascript:void(0)">' + ele.name + '</a></div>';
			html += '<p>' + ele.price + '</p></div></li>';
			return html;
		}
	</script>
</body>
</html>