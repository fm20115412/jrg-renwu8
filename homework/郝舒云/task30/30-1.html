<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    .item {
        width: 230px;
        position: fixed;
        margin-left: 10px;
        margin-top: 10px;
        transition: all 1s;
    }
    
    .i1 {
        height: 260px;
        background: red;
    }
    
    .i2 {
        height: 300px;
        background: yellow;
    }
    
    .i3 {
        height: 400px;
        background: blue;
    }
    
    .i4 {
        height: 500px;
        background: green;
    }
    </style>
</head>

<body>
    <div class="imgs">
        <div class="item i1">1</div>
        <div class="item i2">2</div>
        <div class="item i3">3</div>
        <div class="item i4">4</div>
        <div class="item i1">5</div>
        <div class="item i2">6</div>
        <div class="item i3">7</div>
        <div class="item i4">8</div>
        <div class="item i1">9</div>
        <div class="item i2">10</div>
        <div class="item i2">11</div>
        <div class="item i3">12</div>
        <div class="item i4">13</div>
        <div class="item i1">14</div>
        <div class="item i2">15</div>
    </div>
    <script src="js/jquery-3.1.1.min.js"></script>
    <script>
    $(function() {
        function imgsort() {
            var verwidth = $('.item').outerWidth(true);
            var mainwidth = $(window).width();
            var len = Math.floor(mainwidth / verwidth);
            var imgs = [];
            for (var i = 0; i < len; i++) {
                imgs[i] = 0;
            }
            var index = 0;
            $('.item').each(function() {
                var $item = $(this);
                index = findmin(imgs);
                $item.css({
                    left: index * verwidth,
                    top: imgs[index]
                });
                imgs[index] += $item.outerHeight(true);
            });
        }

        function findmin(arr) {
            var min = arr[0];
            var minindex = 0;
            for (var i = 0; i < arr.length; i++) {
                if (min > arr[i]) {
                    min = arr[i];
                    minindex = i;
                }
            }
            return minindex;
        }
        imgsort();
        $(window).on('resize', function() {
            imgsort();
        })
    });
    </script>
</body>

</html>
