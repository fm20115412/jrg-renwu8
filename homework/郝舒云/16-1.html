<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="http://at.alicdn.com/t/font_zns8h2e1rs3mobt9.css">
    <style>
    a {
        text-decoration: none;
    }
    
    .btn {
        display: block;
        width: 50px;
        height: 20px;
        border-radius: 3px;
        line-height: 20px;
        border: 1px solid #ccc;
        text-align: center;
        font-weight: bold;
    }
    
    #pop {
        width: 400px;
        height: 200px;
        border: 1px solid #ccc;
        position: fixed;
        left: 50%;
        top: 50%;
        margin-top: -100px;
        margin-left: -200px;
        display: none;
        background: #fff;
    }
    
    .tit {
        height: 30px;
        border-bottom: 1px solid #ccc;
        line-height: 30px;
        font-weight: bold;
        padding-left: 10px;
    }
    
    .con {
        height: 120px;
        border-bottom: 1px solid #ccc;
        padding: 10px;
    }
    
    .btn1 {
        display: block;
        width: 50px;
        height: 20px;
        border-radius: 3px;
        line-height: 20px;
        border: 1px solid #ccc;
        text-align: center;
        font-weight: bold;
        margin-top: 3px;
        margin-right: 10px;
        float: right;
    }
    
    .iconfont {
        display: block;
        width: 20px;
        height: 20px;
        float: right;
        margin-right: 5px;
    }
    
    .cover {
        width: 100%;
        height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        display: none;
        background: gray;
    }
    
    .coverbg {
        display: block;
        opacity: 0.5;
    }
    </style>
</head>

<body>
    <a class="btn" href="#">点我</a>
    <div class="cover">
    </div>
    <div id="pop">
        <div class="tit">我是标题<a href="#" class="iconfont">&#xe67d;</a></div>
        <div class="con">我是内容</div>
        <div><a href="#" class="btn1">取消</a><a href="#" class="btn1">确定</a></div>
    </div>
</body>
<script>
function addClass(el, cls) {
    if (!hasClass(el, cls)) {
        el.className += ' ' + cls;

    }
    return el.className;
}

function hasClass(el, cls) {
    var a = new RegExp('(\\s|^)' + cls + '(\\s|$)');
    if (a.test(el.className) == false) {
        return false;
    }

    return true;
}

function removeClass(el, cls) {
    if (hasClass(el, cls)) {
        var len = el.className.search(cls);
        var a = new RegExp(cls, 'g')
        el.className = el.className.replace(a, '');
        el.className = el.className.replace(/^\s/, '').replace(/\s$/, '');

    }
    return el.className;
}
var btn = document.getElementsByClassName('btn')[0];
var popdiv = document.getElementById('pop');
var coverdiv = document.getElementsByClassName('cover')[0];
btn.addEventListener('click', function(e) {

    e.stopPropagation();
    popdiv.style.display = "block";
    addClass(coverdiv, 'coverbg');

});
popdiv.addEventListener('click', function(e) {
    e.stopPropagation();
    var tar = e.target;
    if (tar.innerText == "取消" || tar.className == "iconfont") {
        popdiv.style.display = "none";
        removeClass(coverdiv, 'coverbg');
    }


});

coverdiv.addEventListener('click', function(e) {
    e.stopPropagation();
    popdiv.style.display = "none";
    removeClass(coverdiv, 'coverbg');
});
</script>

</html>
